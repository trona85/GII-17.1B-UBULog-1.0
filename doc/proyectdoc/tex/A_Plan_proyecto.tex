\apendice{Plan de Proyecto Software}

\section{Introducción}

En este documento hablaremos de la planificación del proyecto, que es una parte muy importante. Aquí analizaremos el tiempo de desarrollo y el presupuesto que se necesitara para llevarlo a cabo.

Lo dividiremos en dos partes:

\begin{itemize}
	\tightlist
	\item
	Planificación temporal del proyecto.
	\item
	Estudio de viabilidad del proyecto.
\end{itemize}

En la planificación temporal hablaremos de cada uno de los \emph{sprints} necesarios para su realización, el tiempo estimado y el tiempo real de realización.

En el estudio de viabilidad hablaremos de los costes y beneficios que nos aporta esta aplicación y su viabilidad legal, que se refiere a las licencias de uso del código ajeno que hemos utilizado en el desarrollo para poder comercializar nuestra aplicación.

\section{Planificación temporal}

Al inicio del proyecto se propuso utilizar una metodología ágil, en concreto Scrum, ya que se decidió tener reuniones semanales para hablar de los cambios realizados, problemas ocasionados y planificación del siguiente \emph{sprint} que se realizara. No se ha conseguido desarrollar la metodología al 100\% ya que el el equipo de desarrollo constaba de 1 persona (Oscar Fernández Armengol), pero desechando este punto, se ha conseguido un desarrollo ágil en sus demás puntos. 

\begin{itemize}
	\tightlist
	\item
	Se aplicó una estrategia de desarrollo incremental a través de
	iteraciones (\emph{sprints}) y revisiones.
	\item
	La duración media de los \emph{sprints} fue de una semana.
	\item
	Al finalizar cada \emph{sprint} se entregaba un producto funcional con la nueva especificación en el caso de que estuviera terminada.
	\item
	Se realizaban reuniones de revisión al finalizar cada \emph{sprint}, de resolución de dudas y
	al mismo tiempo de planificación del nuevo \emph{sprint}.
	\item
	En la planificación del \emph{sprint} se generaba una lista de tareas a realizar (nuevas funcionalidades o bugs a solucionar).
	\item
	Se estimaba el tiempo de realización de las tareas a realizar en el \emph{kanbas}.
	\item
	Para monitorizar el progreso del proyecto se utilizan los gráficos generados en GitHub.
	
\end{itemize}
\newpage
\subsection{Sprint 1 (03/10/17 -
	10/10/17)}\label{sprint-1-0031017---101017}
Este \emph{sprint} fue el comienzo del proyecto, aunque en reuniones previas se habló con el tutor de las propuestas que tenía para la elección del proyecto, una vez el tutor (Raúl Marticorena Sánchez) aceptó tutorizar al alumno (Oscar Fernández Armengol) y pudo empezar el desarrollo.

Los objetivos fueron:
\begin{itemize}
	\tightlist
	\item
	Preparación del entorno de desarrollo.
	\item
	Familiarización con la aplicación heredada \href{https://github.com/claumartinezh/TFG_UBUGrades}{UBUGrades}.
	\item
	Investigación del Web Service de Moodle
	\item
	Creación de un esqueleto del proyecto para poder empezar a trabajar.
	
\end{itemize}
El \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/milestone/1?closed=1}{Sprint 1} se estimó en 6 días de trabajo y se realizó en esos 6 días.

\imagen{sprint1}{Sprint 1.}{0.9}
\newpage
\subsection{Sprint 2 (10/10/17 -
	17/10/17)}\label{sprint-2-101017---171017}

Los objetivos fueron:
\begin{itemize}
	\tightlist
	\item
	Análisis de modelo de datos.
	\item
	Diagrama del modelo de datos.
	\item
	Parseo de documentos CSV.	
	
\end{itemize}

El \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/milestone/2?closed=1}{Sprint 2} se estimó en 6 días de trabajo y se realizó en esos 6 días.

\imagen{sprint2}{Sprint 2.}{0.9}
\newpage
\subsection{Sprint 3 (17/10/17 -
	24/10/17)}\label{sprint-3-171017---241017}

Los objetivos fueron:
\begin{itemize}
	\tightlist
	\item
	Integración continua con Travis CI.
	\item
	Integración de  SonarQube.
	\item
	Recoger token con Web Service.	
	\item
	Recoger las asignaturas en las que imparte como profesor el usuario que ha iniciado sesión.
	\item
	Referencia al usuario con su id en el parseo.
	\item
	Interfaz de usuario, primeros pasos.
	\item
	Limpieza de las carpetas innecesarias en el repositorio.
	
\end{itemize}

En este \emph{sprint}, cabe destacar, la integración de Travis\cite{web:travis} y SonarQube \cite{web:sonarqube} para optimizar el tiempo de desarrollo, ya que delegamos en estas herramientas las pruebas y el análisis del código.

El \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/milestone/3?closed=1}{Sprint 3} se estimó en 7 días de trabajo y se realizó en esos 6 días.

\imagen{sprint3}{Sprint 3.}{0.9}
\newpage
\subsection{Sprint 4 (24/10/17 -
	7/11/17)}\label{sprint-4-241017---071117}

Los objetivos fueron:
\begin{itemize}
	\tightlist
	\item
	Creación de usuarios ficticios.
	\item
	Análisis de datos.
	\item
	Eliminación de calificaciones.	
	\item
	Gestión de errores del documento.
	
\end{itemize}

En este \emph{sprint}, cabe destacar, la creación de usuarios ficticios, ya que hay usuarios que tienen interacciones en las asignaturas y nos interesa saber que están haciendo.

El \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/milestone/4?closed=1}{Sprint 4} se estimó en 5 días de trabajo y se realizó en esos 6 días.

\imagen{sprint4}{Sprint 4.}{0.9}
\newpage
\subsection{Sprint 5 (7/11/17 -
	14/11/17)}\label{sprint-5-071117---141117}

Los objetivos fueron:
\begin{itemize}
	\tightlist
	\item
	Cambio de árbol de actividades.
	\item
	Construir los filtros de la interfaz.
	\item
	Creación de eventos	
	\item
	Interfaz nuevo diseño.
	
\end{itemize}

En este \emph{sprint}, cabe destacar, el nuevo diseño para la ventana principal, la antigua no era re-dimensionable y como había que implementar nuevos filtros y botones más adelante, se optó por rehacerla.

El \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/milestone/5?closed=1}{Sprint 5} se estimó en 7 días de trabajo y se realizó en esos 6 días.

\imagen{sprint5}{Sprint 5.}{0.9}
\newpage
\subsection{Sprint 6 (14/11/17 -
	22/11/17)}\label{sprint-6-141117---221117}

Los objetivos fueron:
\begin{itemize}
	\tightlist
	\item
	Generar gráficas.
	\item
	Mostrar gráficas con char.js \cite{javascript:chart}.
	\item
	Creación de botón para generar las gráficas.	
	\item
	Instalar Sublime Text para la edición de HTML y JavaScript.
	\item
	Contar los logs para las gráficas.
	
\end{itemize}

En este \emph{sprint}, cabe destacar, la utilización de la librería Chart.js para la generación de gráficos. Como el gráfico es cambiante dependiendo de los filtros pulsados, optamos en generar los HTML y JavaScript en tiempo de ejecución.

El \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/milestone/6?closed=1}{Sprint 6} se estimó en 8 días de trabajo y se realizó en esos 7 días.

\imagen{sprint6}{Sprint 6.}{0.9}
\newpage
\subsection{Sprint 7 (22/11/17 -
	29/11/17)}\label{sprint-7-221117---291117}

Los objetivos fueron:
\begin{itemize}
	\tightlist
	\item
	Integración de gráficas.
	\item
	Ordenar selección de eventos.
	\item
	imagen de usuario que ha iniciado sesión.	
	\item
	UTF-8 para el gráfico.
	
\end{itemize}

El \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/milestone/7?closed=1}{Sprint 7} se estimó en 8 días de trabajo y se realizó en esos 5 días.

\imagen{sprint7}{Sprint 7.}{0.9}
\newpage
\subsection{Sprint 8 (28/11/17 -
	06/12/17)}\label{sprint-8-281117---061217}

Los objetivos fueron:
\begin{itemize}
	\tightlist
	\item
	Cambio de parseo de log.
	\item
	Creación de tablas para los log en JavaScript.
	\item
	Muestreo de tabla en aplicación.
	\item
	Implementación de filtros en tabla
	\item
	Revisión de logs.
	\item
	Cambio de logo.
	
\end{itemize}

En este \emph{sprint}, cabe destacar, el cambio en el parseo, dado que había incongruencias entre los log de pruebas y los reales, para evitar eso, se implementa con la librería Common-csv \cite{Java:csv}, con ella cogemos los datos correspondientes a la columna concreta y nos evitamos que en las pruebas el usuario sea ``alumno apellido1 apellido2'' y en producción sea ``apellido1 apellido2, alumno''.

Por otra parte, también es interesante la implementación de las tablas, donde el usuario de la aplicación puede ver los log filtrados y desgranar aún más los datos con filtros adicionales.

El \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/milestone/8?closed=1}{Sprint 8} se estimó en 10 días de trabajo y se realizó en esos 6 días.

\imagen{sprint8}{Sprint 8.}{0.9}
\newpage
\subsection{Sprint 9 (06/12/17 -
	13/12/17)}\label{sprint-9-061217---131217}

Los objetivos fueron:
\begin{itemize}
	\tightlist
	\item
	Sacar filtros del HTML a nuestra interfaz.
	\item
	Implementar funcionalidad filtros de tabla de logs y cargar la nueva gráfica con los log resultantes.
	\item
	Investigar la utilización de Web Scripting para nuestra aplicación.
	\item
	Crear botones en la interfaz para coger el CSV de forma automática.
	\item
	Implementar funcionalidad de botón documento online.
	
\end{itemize}

En este \emph{sprint}, cabe destacar, la investigación del Web Scripting, se estimó que se haría en 5 días más 3 días de implementación, en una mañana, se pudieron probar las librerías Jsoup, Selenium y HtmlUnit. Las dos primeras se descartaron, Selenium por problemas de ubicación de exploradores porque no podemos saber donde el usuario los tendrá instalados y lo descartamos y Jsoup solo parsea la web, no nos deja interaccionar con ella. Con la librería htmlUnit hicimos pruebas y conseguimos traernos los datos correspondientes, en la misma mañana pudimos hacer el trabajo que esperábamos hacer en 8 días.

El \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/milestone/9?closed=1}{Sprint 9} se estimó en 15 días de trabajo y se realizó en esos 3 días.

\imagen{sprint9}{Sprint 9.}{0.9}
\newpage
\subsection{Sprint 10 (13/12/17 -
	20/12/17)}\label{sprint-10-131217---201217}

Los objetivos fueron:
\begin{itemize}
	\tightlist
	\item
	WebScripting funcional y refactorizado.
	\item
	Mostrar fecha y hora en la tabla de logs.
	\item
	Centrar botones inferiores.
	\item
	Descartar meses generados por la gráfica que no tengan logs.
	\item
	Modal de carga para la lectura de logs.
	\item
	Añadir tipos de gráficas.
	\item
	Arreglo de la muestra de fechas de la tabla log.
	\item
	Aumentar TimeOut de Web Scripting.
	
\end{itemize}

El \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/milestone/10?closed=1}{Sprint 10} se estimó en 12 días de trabajo y se realizó en esos 5 días.

\imagen{sprint10}{Sprint 10.}{0.9}
\newpage
\subsection{Sprint 11 (20/12/17 -
	12/01/18)}\label{sprint-11-201217---120118}

Los objetivos fueron:
\begin{itemize}
	\tightlist
	\item
	Documentación de código.
	\item
	Documentación de memoria.
	\item
	Refactorización.
	\item
	Arreglo de bugs para la entrega.
	
\end{itemize}

Este es el último \emph{sprint} del proyecto, y el más largo, se completará la memoria, anexos, documentación de código y se arreglaran bugs que se han observado durante el desarrollo y el testeo manual.

El \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/milestone/11?closed=1}{Sprint 11} se estimó en 11 días de trabajo y se realizó en esos 10 días.

\imagen{sprint11}{Sprint 11.}{0.9}

\newpage
\section{Estudio de viabilidad}

Podemos desglosar los costes del proyecto de la siguiente manera.

\subsection{Viabilidad económica}

En el desglose podemos diferenciarlo en las siguientes categorías.

\subsubsection{Costes de personal}

El proyecto se lleva a cabo por un programador a media jornada ya que esta de prácticas en otra empresa 25H/S, empezando en Octubre del 2017 hasta Enero del 2018.

\tablaSmallSinColores{Coste personal}{l c c}{costepersonal}
{ \multicolumn{1}{c }{Concepto} & Coste \\}{ 
	Salario mensual bruto & 1.300\\
	IRPF (10\%) & 130 \\
	S.S(29.9\%) & 388.88 \\
	Salario programador & 1.688.88\\
	\\
	Total 3 meses y medio(20H/S) & 2955.54 \\
} 

\subsubsection{Coste hardware}

El proyecto se realiza con el ordenador personal y se considera la amortización a 5 años y se utiliza durante 3 meses y medio.

\tablaSmallSinColores{Coste hardware}{l c c}{costehardware}
{ \multicolumn{1}{l}{Concepto} & Coste & Coste amortizado \\}{ 
	Portátil & 1.000 & 4.86 \\
	\\
	Total & 1000 & 4.86  \\
} 

\subsubsection{Beneficios}

El proyecto se ha pensado para ayudar al profesorado a ver la interacción de los alumnos en la asignatura. Se puede considerar un coste de 5 euros por licencia y que en la universidad hay, redondeando, 700 profesores estamos hablando de 3500 euros, la aplicación en un futuro cambiara y llegara a la 2.0 con lo cual habría que volver a pagar la nueva licencia.

La aplicación se puede extender a diferentes centros aparte de la UBU.
Si lo observamos en ese sentido se podría cobrar 500 euros por licencia, para su utilización en esa universidad. Si tenemos 83 universidades es España, podríamos obtener unos beneficios de 83 * 500 = 41.500 euros.

\subsection{Viabilidad legal}

En esta sección hablaremos de la viabilidad del software utilizado, de si las licencias nos permiten la explotación del mismo o su propia utilización.

\tablaSmallSinColores{Viabilidad legal }{l c c c c}{viabilidadlegal}
{ \multicolumn{1}{l}{Herramientas} & Licencia \\}{ 
	commons-codec1.9 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	commons-csv-1.5 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	commons-logging-1.2 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	gson-2.8.0 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	htmlunit-2.28-OSGi & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	httpasyncclient-4.1.2 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	httpasyncclient-cache-4.1.2 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	httpclient-4.5.2 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	httpclient-cache-4.5.2 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	httpcore-4.4.5 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	httpcore-nio-4.4.5 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	java-json & \href{http://json.org/license.html}{Json license} \\
	log4j-1.2.17 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	slf4j-api-1.7.1 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	httpclient-cache-4.5.2 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	slf4j-log4j12-1.7.1 & \href{http://www.apache.org/licenses/LICENSE-2.0.txt}{ Apache License Version 2.0} \\
	UBULog 1.0 & \href{https://github.com/trona85/GII-17.1B-UBULog-1.0/blob/master/LICENSE}{ Eclipse Public License - v 1.0} \\
} 

Para la aplicación desarrollada y para lo que está pensado, por las licencias que se están utilizando no hay ningún problema para su utilización, mientras compartamos todo el código utilizado.


